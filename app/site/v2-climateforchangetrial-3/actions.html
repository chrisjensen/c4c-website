{% include "breadcrumbs" %}



<div id="content">

  <div id="intro" class="intro">
    <div class="text-content">
      {{ page.basic.content }}
    </div>
  </div>
<!--  TagsTags: {{ request.current_signup.tag_list }} -->
<!--  Child pages {{ page.children }} -->
  
  <ng-view></ng-view>
  
  {% if page.tags_count > 0 %}
  <div class="page-tags">
    {% include "page_tags" with page %}
  </div>
  {% endif %}

  {% if page.is_homepage? == true and site.page_tags contains "homepage" %}
    {% tag "homepage" with "homepage_widget" %}
  {% endif %}

  <div class="like-page">
    <strong>Do you like this page?</strong>
    {% include "like_page" %}
  </div>

  {% if page.show_stream? %}
  {% include "page_stream" %}
  {% endif %}

</div>

<!-- Template for actions grid -->
<script type="text/ng-template" id="actions_grid.html">
	<div class="row">
		<a ng-repeat="category in categories"
			 class="action-grid action-category col-md-6"
			href="#/actions/{[{ category['Name'] }]}">{[{ category['Name'] }]}</a>
		<div class="row-md-12 grid-loading text-center"
				 ng-hide="categories.length">
			<img src="assets/bert-loader-small.gif" alt="Loading ..."  />
		</div>
	</div>
	
	<action-hint ng-show="categories.length"/>
</script>

<!-- Template for actions list -->
<script type="text/ng-template" id="actions_list.html">
	<h2>{[{ category["Name"] }]}</h2>
	<a href="#/">Go back</a>
	<p>{[{ category["Description"] }]}</p>

	<ul class="action-list">
		<action-list-item ng-repeat="action in actions" action="action" />
	</ul>

	<a href="#/">Go back</a>
</script>

<script type="text/ng-template" id="action_list_item.html">
	<li id="act_{[{ action['Slug'] }]}" ng-class="action['class']" ng-click="big = !big" ng-class="{'wide' : big}" class="action-item">
		<h3>{[{ action['Title'] }]}</h3>
		<div ng-show="big">
			<p>{[{ action['Description'] }]}</p>

      {% form_for signup %}

	  <input type="hidden" name="signup[optional_tag]" value="{[{ action['start tag'] }]}" />

	  {% submit_tag "Choose this action", class:"pull-right submit-button btn btn-primary" %}

      {% endform_for %}
		</div>
	</li>
</script>

<!-- Template for actions hint -->
<script type="text/ng-template" id="actions_hint.html">
	<div id="hint_form" class="hint-form" >
    {% form_for signup %}

  <input type="hidden" name="signup[optional_tag]" value="{[{ action['start tag'] }]}" />
  <input type="hidden" name="signup[optional_tag]" value="{[{ action['start tag'] }]}_hint" />

	<strong>Not sure where to start?</strong> Many people start with 

  {% submit_tag "{[{ hint.name }]}", class:"submit-button plain-link-button" %}

   {% endform_for %}
	</div>
</script>

<script type="text/javascript">
(function() {
	window.c4c = window.c4c || {};

	c4c.demoMode = true;

    // Save the child pages as an array    
	c4c.action_pages = {
    {% for child in page.children %}
    	'{{ child.slug }}': '{{ child.id}}',
    {% endfor %}
		};
})();
</script>

